<!DOCTYPE html>
<html>
  <head>
    <title>Reise in die Quantenzeit 02</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta name="description" content="Quantum computing in your browser." />
    <meta name="copyright" content="Stefan Seegerer, Stewart Smith 2019–2021" />
    <meta
      name="keywords"
      content="
            Q, Q.js, Q-js, Qjs, quantum JavaScript,
            quantum, quantum physics, quantum mechanics, superposition,
            quantum computer, quantum computer programming, quantum computing, QC, 
            quantum simulator, quantum computer simulator, 
            qubit, qbit, gate, Hadamard, Bloch, Bloch Sphere,
            Web, Web site, website, Web browser, browser, HTML, HTML5, JavaScript, ES6, CSS,
            Chrome, Firefox, Safari, Opera, Brave, Edge, WebKit, Blink, Gecko, Mozilla,
            Stewart Smith, Stewart, Stew, Stuart, Steven, Steve, Stewdio, stewartsmith, stew_rtsmith, @stew_rtsmith,
            Moar, Moar Technologies Corp, MTC,
            Google, IBM, Microsoft, Amazon, NASA, DWave, D-Wave,
            Quil, OpenQASM,
                ProjectQ, Qiskit, 
                Quantum Development Kit, Cirq, Strawberry Fields, t|ket>,
                QCL, Quantum pseudocode, Q#, Q|SI>, Q language, qGCL, QFC, QML, LIQUi|>, Quipper,
            Stanford CS 269 Q: Quantum Computer Programming"
    />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@stew_rtsmith" />
    <meta name="twitter:creator" content="@stew_rtsmith" />
    <meta name="twitter:title" content="Q ⟩ Curriculum 02" />
    <meta
      name="twitter:description"
      content="Quantum computing in your browser."
    />
    <meta
      name="twitter:image"
      content="https://quantumjavascript.app/assets/Q-website-preview.jpg"
    />

    <meta property="og:type" content="website" />
    <meta property="og:title" content="Q ⟩ Curriculum 01" />
    <meta
      property="og:description"
      content="Quantum computing in your browser."
    />
    <meta
      property="og:image"
      content="https://quantumjavascript.app/assets/Q-website-preview.jpg"
    />
    <meta
      property="og:url"
      content="https://quantumjavascript.app/Circuit.html"
    />

    <link rel="canonical" href="https://quantumjavascript.app/Circuit.html" />
    <link href="assets/Q-favicon-064.png" rel="icon" type="image/png" />
    <link href="assets/Q-favicon-144.png" rel="apple-touch-icon" />

    <link rel="stylesheet" href="Q/Q.css" />
    <link rel="stylesheet" href="Q/Q-Circuit-Editor.css" />
    <link rel="stylesheet" href="assets/documentation.css" />
    <link rel="stylesheet" href="curriculum/curriculum.css" />

    <script src="Q/Q.js"></script>
    <script src="Q/Q-ComplexNumber.js"></script>
    <script src="Q/Q-Matrix.js"></script>
    <script src="Q/Q-Qubit.js"></script>
    <script src="Q/Q-Gate.js"></script>
    <script src="Q/Q-History.js"></script>
    <script src="Q/Q-Circuit.js"></script>
    <script src="Q/Q-Circuit-Editor.js"></script>
    <script src="curriculum/navigation.js"></script>

    <script src="curriculum/Q-Curriculum-helper.js"></script>
  </head>
  <body>
    <main class="home">
      <h3>Quantencomputer – Qubits</h3>
      <p>
        Quantencomputern arbeiten an Stelle von <b>Bits</b> mit sogenannten
        <b>Quantenbits</b>. Ein Quantenbit oder <b>Qubit</b> stellt die kleinste
        Informationseinheit in der Welt der Quantencomputer dar. Sie ähneln Bits
        insofern, als es zwei messbare Zustände gibt, die mit 0 und 1 bezeichnet
        werden.
      </p>
      <img
        src="curriculum/qubits-2-messbare-zustaende.svg"
        style="
          margin: 1rem;
          display: block;
          margin-left: auto;
          margin-right: auto;
          width: 33%;
        "
      />
      <div style="text-align: center; font-style: italic; font-size: 85%">
        Qubits haben zwei messbare Zustände: 0 und 1.
      </div>
      <p>
        Genau wie ein herkömmlicher Computer braucht auch der Quantencomputer
        Möglichkeiten, die Qubits zu beeinflussen: Quantengatter. Wir werden ab
        sofort daher Quantenschaltkreise nutzen, um selbst Experimente mit
        Quantencomputern zu machen. Anders als bisher, stellt
        <b>jede Zeile nun ein Qubit</b> dar!
      </p>

      <h4><span class="curriculum-gate-description">X</span>-Gatter</h4>

      <div class="curriculum-exercise">
        <div class="curriculum-exercise-icon" style="width: 2.4rem">!</div>
        <div>
          Untersuche, welche Auswirkungen das Gatter
          <span class="curriculum-gate-description">X</span> auf ein Qubit hat,
          indem Du <br />
          &bull; das <span class="curriculum-gate-description">X</span>-Gatter
          an verschiedene Positionen schiebst und jeweils eine Messung
          durchführst, <br />
          &bull; den Eingabewert von
          <span class="curriculum-input-description">0</span> auf
          <span class="curriculum-input-description">1</span> änderst und eine
          Messung durchführst
          <br />
          &bull; und ein zweites
          <span class="curriculum-gate-description">X</span>-Gatter hinzufügst
          und eine Messung durchführst! Notiere deine Beobachtungen!
        </div>
      </div>
      <div
        style="
          display: block;
          margin-left: auto;
          margin-right: auto;
          width: 75%;
        "
      >
        <img
          src="curriculum/operationen-an-schaltkreis.gif"
          style="
            border-top: solid lightgray 1px;
            border-right: solid lightgray 1px;
            border-left: solid lightgray 1px;
          "
        />
        <div style="text-align: center; font-style: italic; font-size: 85%">
          Die Animation zeigt Dir, wie Du Schaltkreise verändern und Messungen
          durchführen kannst.
        </div>
      </div>
      <h6>Hinweise</h6>
      <ul>
        <li>
          Jede Zeile stellt ein Qubit dar. Verändere die Eingabewerte, indem Du
          auf die Zahlen am Anfang einer Zeile klickst.
        </li>
        <li>
          Führe eine Messung durch, indem Du auf <i>Auswerten</i> klickst.
        </li>
        <li>
          Du kannst Quantengatter mittels Drag&Drop verschieben, hinzufügen oder
          entfernen.
        </li>
      </ul>
      <div class="curriculum-spacer"></div>

      <div class="">
        <div class="Q-circuit-palette" data-gates="X"></div>
        <div id="circuit-X"></div>
        <button
          class="Q-button"
          type="button"
          onclick="auswerten('X');this.blur();"
        >
          Auswerten
        </button>
      </div>
      <div class="curriculum-spacer"></div>
      <h2>Meine Messungen</h2>
      <div id="measurement-history-X" class="measurement-history-container">
        <button
          class="measurement-history-action-button"
          onclick="resetHistory('X')"
        >
          Reset
        </button>
      </div>

      <h4><span class="curriculum-gate-description">H</span>-Gatter</h4>
      <p>
        Qubits haben aber auch einige Eigenschaften, die normale Bits nicht
        haben. Gemeinsam wollen wir herausfinden, welche das sind! Dafür nutzen
        wir das <span class="curriculum-gate-description">H</span>-Gatter, das
        uns einen ersten Vorgeschmack auf das gibt, was Quantencomputer so
        besonders macht.
      </p>

      <div class="curriculum-exercise">
        <div class="curriculum-exercise-icon">!</div>
        <div>
          Untersuche, welche Auswirkungen das Gatter
          <span class="curriculum-gate-description">H</span> auf ein Qubit hat,
          indem Du verschiedene Eingabewerte ausprobierst und
          <b>mindestens 10 Messungen</b> je Eingabewert durchführst. Notiere
          deine Beobachtungen!
        </div>
      </div>
      <h6>Hinweise</h6>
      <ul>
        <li>
          Jede Zeile stellt ein Qubit dar. Verändere die Eingabewerte, indem Du
          auf die Zahlen am Anfang einer Zeile klickst.
        </li>
        <li>
          Führe eine Messung durch, indem Du auf <i>Auswerten</i> klickst.
        </li>
        <li>
          Du kannst Quantengatter mittels Drag&Drop verschieben, hinzufügen oder
          entfernen.
        </li>
      </ul>
      <div class="curriculum-spacer"></div>

      <div class="">
        <div class="Q-circuit-palette" data-gates="HX"></div>
        <div id="circuit-H"></div>
        <button
          class="Q-button"
          type="button"
          onclick="auswerten('H'); this.blur();"
        >
          Auswerten
        </button>
      </div>
      <div class="curriculum-spacer"></div>
      <h2>Meine Messungen</h2>
      <div id="measurement-history-H" class="measurement-history-container">
        <button
          class="measurement-history-action-button"
          onclick="resetHistory('H')"
        >
          Reset
        </button>
      </div>

      <p></p>

      <!-- Curriculum navigation -->
      <footer class="curriculum-footer">
        <p>
          <a class="Q-button" type="button" href="curriculum01.html">
            Zurück
          </a>
          <a class="Q-button" type="button" href="curriculum03.html">
            Weiter
          </a>
        </p>
        <p class="author-info">
          Entwickelt von Stefan Seegerer und Andreas Woitzik
        </p>
      </footer>
    </main>
  </body>

  <script>
    let circuitX = Q`
        I-I-X-I-I
        `
    document.getElementById('circuit-X').appendChild(circuitX.toDom())

    let circuitH = Q`
        I-I-H-I-I
        `
    document.getElementById('circuit-H').appendChild(circuitH.toDom())

    let evaluationHistoryX = []
    let evaluationHistoryH = []

    function resetHistory(circuitPostfix) {
      if (circuitPostfix === 'X') {
        evaluationHistoryX = []
      } else {
        evaluationHistoryH = []
      }
      let historyEls = document
        .getElementById('measurement-history-' + circuitPostfix)
        .getElementsByClassName('measurement-history-container-element')
      Array.from(historyEls).map((el) => el.parentNode.removeChild(el))
    }

    function auswerten(circuitPostfix) {
      let circuit = circuitPostfix === 'X' ? circuitX : circuitH
      let evaluationHistory =
        circuitPostfix === 'X' ? evaluationHistoryX : evaluationHistoryH
      // try evaluates the circuit onces and returns the index of the result
      let result = circuit.try$().toString(2).padStart(circuit.bandwidth, '0')

      // add result to evaluation history
      evaluationHistory.push(result)
      let historyEl = document.createElement('div')
      historyEl.classList.add('measurement-history-container-element')
      let inputString = circuit.qubits
        .map((qubit) => (qubit.name === 'Horizontal' ? 0 : 1))
        .join('')
        .replace(/\s/g, '')
      historyEl.innerText = 'Eingabe: ' + inputString + '; Ausgabe: ' + result
      document
        .getElementById('measurement-history-' + circuitPostfix)
        .prepend(historyEl)

      for (let idx = 0; idx < '0' + result.length; idx++) {
        // if there is already a measurement taken, remove it
        if (document.getElementById('measurement-' + idx)) {
          let oldMeasureEl = document.getElementById('measurement-' + idx)
          oldMeasureEl.parentNode.removeChild(oldMeasureEl)
        }

        let measureEl = document.createElement('div')
        document
          .getElementsByClassName('Q-circuit-board-foreground')
          [circuitPostfix == 'X' ? 0 : 1].appendChild(measureEl)
        measureEl.classList.add('circuit-measurement')
        measureEl.id = 'measurement-' + idx
        measureEl.style.setProperty('grid-column-start', circuit.timewidth + 3)
        measureEl.style.setProperty('grid-row-start', idx + 2)
        measureEl.innerHTML = `<div class="circuit-measurement-tile">${result[idx]}</div>`
      }
    }

    //  Let’s place circuit palettes
    //  inside anything with the class 'Q-circuit-palette'.
    Array.from(document.querySelectorAll('.Q-circuit-palette')).forEach(
      function (el) {
        console.log(el.getAttribute('data-gates'))
        Q.Circuit.Editor.createPalette(
          el,
          (gates = el.getAttribute('data-gates'))
        )
      }
    )

    //  Update evaluation result, when circuit is altered via GUI
    window.addEventListener('Q gui altered circuit', function (event) {
      for (let idx = 0; idx < '0' + event.detail.circuit.bandwidth; idx++) {
        // if there is already a measurement taken, remove it
        if (document.getElementById('measurement-' + idx)) {
          let oldMeasureEl = document.getElementById('measurement-' + idx)
          oldMeasureEl.parentNode.removeChild(oldMeasureEl)
        }
      }
      event.detail.circuit.evaluate$()
    })
  </script>
</html>
